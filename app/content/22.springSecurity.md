# Enhancing Spring Security

We have our first component test in place, and weÂ´d like to be able to cover scenarios where multiple Players are playing at the same time.

Adding JWT authentication to the backend prepares the way to build a Javascript client code at the frontend.

## PR Overview

### Spring Boot

- modified Spring Security configurations to support JWT (according to example on spring-security-samples)
- CorsConfigurationSource corsConfigurationSource()
- added Bearer authentication annotation to OpenAPIConfig()
- added versioning to all ControllersÂ´ paths
- added @SecurityRequirement(name = "Bearer Authentication") to Controllers
- modified MbStepDefinitions getSpecWithAuthPlayer(Player player)
 
### UI Draft

- added new store for player
- modified auth store to use NUXT_PUBLIC_API_BASE environment variable
- modified index.vue to show how API can be used

# References

- [Why is JWT popular? - YouTube](https://www.youtube.com/watch?v=P2CPd9ynFLg&ab_channel=ByteByteGo)
- [Authentication Persistence and Session Management :: Spring Security](https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html)
- [Exploiting CORS â€“ How to Pentest Cross-Origin Resource Sharing Vulnerabilities](https://www.freecodecamp.org/news/exploiting-cors-guide-to-pentesting/)
- [Handling Logouts :: Spring Security](https://docs.spring.io/spring-security/reference/servlet/authentication/logout.html)
- [Authentication :: Spring Security](https://docs.spring.io/spring-security/reference/servlet/authentication/index.html)
- [Username/Password Authentication :: Spring Security](https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/index.html#servlet-authentication-unpwd)
- [JDBC Authentication :: Spring Security](https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/jdbc.html)
- [Cross Site Request Forgery (CSRF) :: Spring Security](https://docs.spring.io/spring-security/reference/servlet/exploits/csrf.html)
- [Cross Site Request Forgery (CSRF) :: Spring Security](https://docs.spring.io/spring-security/reference/features/exploits/csrf.html#csrf-protection-read-only)
- [RFC 7231 - Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content](https://datatracker.ietf.org/doc/html/rfc7231#section-4.2.1)
- [SecurityContextRepository (spring-security-docs 6.2.0 API)](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/context/SecurityContextRepository.html)
- [spring-projects/spring-security: Spring Security](https://github.com/spring-projects/spring-security)
- [Hello Spring Security :: Spring Security](https://docs.spring.io/spring-security/reference/servlet/getting-started.html)
- [Architecture :: Spring Security](https://docs.spring.io/spring-security/reference/servlet/architecture.html)
- [Copy as Markdown](https://chromewebstore.google.com/detail/copy-as-markdown/fkeaekngjflipcockcnpobkpbbfbhmdn)

- [Nuxt3 Unit Testing - Pages/Layouts - YouTube](https://www.youtube.com/shorts/UeimRD6gIdQ)

- [unjs/ofetch: ðŸ˜± A better fetch API. Works on node, browser and workers.](https://github.com/unjs/ofetch)
- [Configure JWT Authentication for OpenAPI | Baeldung](https://www.baeldung.com/openapi-jwt-authentication)
- [Set JWT with Spring Boot and Swagger UI | Baeldung](https://www.baeldung.com/spring-boot-swagger-jwt)
- [JSON Web Tokens - jwt.io](https://jwt.io/)
- [Why is JWT popular? - YouTube](https://www.youtube.com/watch?v=P2CPd9ynFLg&ab_channel=ByteByteGo)
- [Swagger UI](http://localhost:8080/swagger-ui/index.html)
- [Base64 Decode and Encode - Online](https://www.base64decode.org/)
- [spring-projects/spring-security-samples](https://github.com/spring-projects/spring-security-samples)
- [Actions | Pinia](https://pinia.vuejs.org/core-concepts/actions.html)
- [useFetch Â· Nuxt Composables](https://nuxt.com/docs/api/composables/use-fetch)
- [useCookie Â· Nuxt Examples](https://nuxt.com/docs/examples/advanced/use-cookie)
- [Data fetching Â· Get Started with Nuxt](https://nuxt.com/docs/getting-started/data-fetching)
- [unjs/ofetch: ðŸ˜± A better fetch API. Works on node, browser and workers.](https://github.com/unjs/ofetch)
- [Headers - Web APIs | MDN](https://developer.mozilla.org/en-US/docs/Web/API/Headers)
- [Vue 3 + Pinia - JWT Authentication Tutorial & Example | Jason Watmore's Blog](https://jasonwatmore.com/post/2022/05/26/vue-3-pinia-jwt-authentication-tutorial-example#auth-store-js)
- [Authentication in Nuxt 3 - DEV Community](https://dev.to/rafaelmagalhaes/authentication-in-nuxt-3-375o)
- [javascript - Basic authentication with fetch? - Stack Overflow](https://stackoverflow.com/questions/43842793/basic-authentication-with-fetch)